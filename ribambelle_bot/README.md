# Ресторанный Telegram-бот (оценка сервиса + промокоды)

## Быстрый старт
1. Установи зависимости (желательно в виртуальном окружении):
```
pip install -r requirements.txt
```
2. Создай файл `.env` рядом с `requirements.txt` по образцу ниже.
3. Запуск:
```
python -m bot.app
```
> На macOS, если Python установлен как `python3`, используй `python3 -m bot.app`

## .env пример
```
BOT_TOKEN=8018287894:AA...ТВОЙ_ТОКЕН
MANAGERS_CHAT_ID=123456789
DB_PATH=./bot.db
PROMO_VALID_DAYS=30
SECRET_KEY=change_me
```

## Что умеет бот
- Сбор оценок гостей с быстрыми кнопками ⭐
- Комментарии по желанию (свободный ввод)
- Автогенерация промокода при оценке 4–5 ⭐ (скидка 10% по умолчанию)
- Уведомление менеджера о негативе
- Админ-панель: статистика, экспорт CSV
- Простой антиспам и единый UI-стиль

## Структура
Смотри папку `bot/` — код разбит на модули: handlers, middlewares, db, keyboards, texts.

## Частые вопросы
- **Где менять размер скидки?** В `db/models.py -> create_promo(discount=10)`
- **Как включить Webhook?** На старте используй polling. Для Webhook понадобится внешний URL и SSL. 
- **Почему нет Google Sheets?** Заготовка лежит в `services/sheets.py`. Подключай по желанию.
